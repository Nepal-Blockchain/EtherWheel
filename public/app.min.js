!function(){"use strict";angular.module("ether-spinner",["ngRoute","chart.js","rzModule"]).config(["$routeProvider",function(e){e.otherwise({redirectTo:"/"})}])}(),function(){"use strict";function e(e,t,n){function a(){if(n.isConnected()){var e=[{constant:!0,inputs:[{name:"",type:"address"}],name:"stakes",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"stakeholders",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[],name:"goal",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!1,inputs:[],name:"refundStake",outputs:[],type:"function"},{constant:!1,inputs:[],name:"destroy",outputs:[],type:"function"},{constant:!0,inputs:[],name:"increment",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"numStakeholders",outputs:[{name:"",type:"uint256"}],type:"function"},{constant:!1,inputs:[{name:"rejectPartialBets",type:"bool"}],name:"buyStake",outputs:[],type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"recentWins",outputs:[{name:"winner",type:"address"},{name:"timestamp",type:"uint256"},{name:"stake",type:"uint256"}],type:"function"},{constant:!0,inputs:[],name:"host",outputs:[{name:"",type:"address"}],type:"function"},{inputs:[{name:"_goalInFinney",type:"uint256"},{name:"_incrementInFinney",type:"uint256"},{name:"_recentWinsCount",type:"uint8"}],type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"winner",type:"address"},{indexed:!1,name:"timestamp",type:"uint256"},{indexed:!1,name:"stake",type:"uint256"}],name:"Won",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"stakeholder",type:"address"}],name:"ChangedStake",type:"event"}],t=n.web3.eth.contract(e);m=t.at(l),c.goal=n.web3.fromWei(m.goal(),"ether").toString(),c.sliderStep=n.web3.fromWei(m.increment(),"ether").toString(),c.accounts=n.web3.eth.accounts,c.selectedAccount=n.web3.eth.defaultAccount,c.selectedAccount||(c.selectedAccount=n.web3.eth.coinbase),o(),s(),u();var a=m.ChangedStake();a.watch(i);var p=m.Won();p.watch(r)}}function o(){if(n.isConnected()){var e=n.web3.eth.getBalance(l),t=n.web3.fromWei(e,"ether");c.balance=parseFloat(t.toString())}}function s(){if(n.isConnected()){c.wheelLabels.length=0,c.wheelData.length=0,c.wheelColours.length=0;for(var e=m.numStakeholders(),t=0;e>t;++t){var a=m.stakeholders(t);c.wheelLabels.push(a.toString()),c.wheelData.push(n.web3.fromWei(m.stakes(a),"ether")),c.wheelColours.push("#C99D66")}c.wheelLabels.push("Empty"),c.wheelData.push(n.web3.fromWei(m.goal()-n.web3.eth.getBalance(l),"ether")),c.wheelColours.push(p)}}function u(){!n.isConnected()}function i(e,n){o(),s(),t.$apply()}function r(e,n){o(),s(),u(),t.$apply()}var c=this;c.isConnected=n.isConnected;var p="#3D3E3F";c.wheelLabels=["Empty"],c.wheelData=[5],c.wheelColours=[p];var l="0xaCD9e1e68622285Cc3d339D04b76BA7acEE6FC1C",m=null;a()}e.$inject=["$route","$scope","ethereum"],angular.module("ether-spinner").controller("SpinnerCtrl",e)}(),function(){"use strict";function e(){function e(){n.web3.setProvider(new n.web3.providers.HttpProvider("http://localhost:8545"))}function t(){return n.web3.currentProvider.isConnected()}var n={web3:new Web3,isConnected:t};return e(),n}angular.module("ether-spinner").service("ethereum",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNwaW5uZXIuY29udHJvbGxlci5qcyIsImFwcC5taW4uanMiLCJldGhlcmV1bS5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJTcGlubmVyQ3RybCIsIiRyb3V0ZSIsIiRzY29wZSIsImV0aGVyZXVtIiwiYWN0aXZhdGUiLCJpc0Nvbm5lY3RlZCIsImFiaSIsImNvbnN0YW50IiwiaW5wdXRzIiwibmFtZSIsInR5cGUiLCJvdXRwdXRzIiwiYW5vbnltb3VzIiwiaW5kZXhlZCIsImNvbnRyYWN0Qmx1ZXByaW50Iiwid2ViMyIsImV0aCIsImNvbnRyYWN0IiwiYXQiLCJjb250cmFjdEFkZHJlc3MiLCJ2bSIsImdvYWwiLCJmcm9tV2VpIiwidG9TdHJpbmciLCJzbGlkZXJTdGVwIiwiaW5jcmVtZW50IiwiYWNjb3VudHMiLCJzZWxlY3RlZEFjY291bnQiLCJkZWZhdWx0QWNjb3VudCIsImNvaW5iYXNlIiwidXBkYXRlQmFsYW5jZSIsInVwZGF0ZUNoYXJ0IiwidXBkYXRlUmVjZW50UmVzdWx0cyIsIm9uU3Rha2VDaGFuZ2VkRXZlbnQiLCJDaGFuZ2VkU3Rha2UiLCJ3YXRjaCIsIm9uU3Rha2VDaGFuZ2VkIiwib25Xb25FdmVudCIsIldvbiIsIm9uV29uIiwid2VpIiwiZ2V0QmFsYW5jZSIsImV0aGVyIiwiYmFsYW5jZSIsInBhcnNlRmxvYXQiLCJ3aGVlbExhYmVscyIsImxlbmd0aCIsIndoZWVsRGF0YSIsIndoZWVsQ29sb3VycyIsIm51bVN0YWtlaG9sZGVycyIsImkiLCJzdGFrZWhvbGRlciIsInN0YWtlaG9sZGVycyIsInB1c2giLCJzdGFrZXMiLCJlbXB0eUJhckNvbG91ciIsImVycm9yIiwicmVzdWx0IiwiJGFwcGx5IiwidGhpcyIsIiRpbmplY3QiLCJjb250cm9sbGVyIiwic2VydmljZSIsInNldFByb3ZpZGVyIiwicHJvdmlkZXJzIiwiSHR0cFByb3ZpZGVyIiwiY3VycmVudFByb3ZpZGVyIiwiV2ViMyJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDRSxZQUVBQSxTQUFRQyxPQUFPLGlCQUNiLFVBQ0EsV0FDQSxhQUVGQyxRQUFRLGlCQUFrQixTQUFTQyxHQUNqQ0EsRUFBZUMsV0FBV0MsV0FBWSxZQ1QxQyxXQUNFLFlBS0EsU0FBU0MsR0FBWUMsRUFBUUMsRUFBUUMsR0FnQm5DLFFBQVNDLEtBQ1AsR0FBSUQsRUFBU0UsY0FBYixDQUVBLEdBQUlDLEtBQVFDLFVBQVcsRUFBS0MsU0FBV0MsS0FBTyxHQUFHQyxLQUFPLFlBQVlELEtBQU8sU0FBU0UsVUFBWUYsS0FBTyxHQUFHQyxLQUFPLFlBQVlBLEtBQU8sYUFBYUgsVUFBVyxFQUFLQyxTQUFXQyxLQUFPLEdBQUdDLEtBQU8sWUFBWUQsS0FBTyxlQUFlRSxVQUFZRixLQUFPLEdBQUdDLEtBQU8sWUFBWUEsS0FBTyxhQUFhSCxVQUFXLEVBQUtDLFVBQVlDLEtBQU8sT0FBT0UsVUFBWUYsS0FBTyxHQUFHQyxLQUFPLFlBQVlBLEtBQU8sYUFBYUgsVUFBVyxFQUFNQyxVQUFZQyxLQUFPLGNBQWNFLFdBQWFELEtBQU8sYUFBYUgsVUFBVyxFQUFNQyxVQUFZQyxLQUFPLFVBQVVFLFdBQWFELEtBQU8sYUFBYUgsVUFBVyxFQUFLQyxVQUFZQyxLQUFPLFlBQVlFLFVBQVlGLEtBQU8sR0FBR0MsS0FBTyxZQUFZQSxLQUFPLGFBQWFILFVBQVcsRUFBS0MsVUFBWUMsS0FBTyxrQkFBa0JFLFVBQVlGLEtBQU8sR0FBR0MsS0FBTyxZQUFZQSxLQUFPLGFBQWFILFVBQVcsRUFBTUMsU0FBV0MsS0FBTyxvQkFBb0JDLEtBQU8sU0FBU0QsS0FBTyxXQUFXRSxXQUFhRCxLQUFPLGFBQWFILFVBQVcsRUFBS0MsU0FBV0MsS0FBTyxHQUFHQyxLQUFPLFlBQVlELEtBQU8sYUFBYUUsVUFBWUYsS0FBTyxTQUFTQyxLQUFPLFlBQVlELEtBQU8sWUFBWUMsS0FBTyxZQUFZRCxLQUFPLFFBQVFDLEtBQU8sWUFBWUEsS0FBTyxhQUFhSCxVQUFXLEVBQUtDLFVBQVlDLEtBQU8sT0FBT0UsVUFBWUYsS0FBTyxHQUFHQyxLQUFPLFlBQVlBLEtBQU8sYUFBYUYsU0FBV0MsS0FBTyxnQkFBZ0JDLEtBQU8sWUFBWUQsS0FBTyxxQkFBcUJDLEtBQU8sWUFBWUQsS0FBTyxtQkFBbUJDLEtBQU8sVUFBVUEsS0FBTyxnQkFBZ0JFLFdBQVksRUFBTUosU0FBV0ssU0FBVSxFQUFNSixLQUFPLFNBQVNDLEtBQU8sWUFBWUcsU0FBVSxFQUFNSixLQUFPLFlBQVlDLEtBQU8sWUFBWUcsU0FBVSxFQUFNSixLQUFPLFFBQVFDLEtBQU8sWUFBWUQsS0FBTyxNQUFNQyxLQUFPLFVBQVVFLFdBQVksRUFBTUosU0FBV0ssU0FBVSxFQUFNSixLQUFPLGNBQWNDLEtBQU8sWUFBWUQsS0FBTyxlQUFlQyxLQUFPLFVBQ3JxREksRUFBb0JYLEVBQVNZLEtBQUtDLElBQUlDLFNBQVNYLEVBQ25EVyxHQUFXSCxFQUFrQkksR0FBR0MsR0FFaENDLEVBQUdDLEtBQU9sQixFQUFTWSxLQUFLTyxRQUFRTCxFQUFTSSxPQUFRLFNBQVNFLFdBQzFESCxFQUFHSSxXQUFhckIsRUFBU1ksS0FBS08sUUFBUUwsRUFBU1EsWUFBYSxTQUFTRixXQUVyRUgsRUFBR00sU0FBV3ZCLEVBQVNZLEtBQUtDLElBQUlVLFNBQ2hDTixFQUFHTyxnQkFBa0J4QixFQUFTWSxLQUFLQyxJQUFJWSxlQUNuQ1IsRUFBR08sa0JBQ0xQLEVBQUdPLGdCQUFrQnhCLEVBQVNZLEtBQUtDLElBQUlhLFVBR3pDQyxJQUNBQyxJQUNBQyxHQUVBLElBQUlDLEdBQXNCaEIsRUFBU2lCLGNBQ25DRCxHQUFvQkUsTUFBTUMsRUFFMUIsSUFBSUMsR0FBYXBCLEVBQVNxQixLQUMxQkQsR0FBV0YsTUFBTUksSUFHbkIsUUFBU1QsS0FDUCxHQUFJM0IsRUFBU0UsY0FBYixDQUVBLEdBQUltQyxHQUFNckMsRUFBU1ksS0FBS0MsSUFBSXlCLFdBQVd0QixHQUNuQ3VCLEVBQVF2QyxFQUFTWSxLQUFLTyxRQUFRa0IsRUFBSyxRQUN2Q3BCLEdBQUd1QixRQUFVQyxXQUFXRixFQUFNbkIsYUFHaEMsUUFBU1EsS0FDUCxHQUFJNUIsRUFBU0UsY0FBYixDQUVBZSxFQUFHeUIsWUFBWUMsT0FBUyxFQUN4QjFCLEVBQUcyQixVQUFVRCxPQUFTLEVBQ3RCMUIsRUFBRzRCLGFBQWFGLE9BQVMsQ0FHekIsS0FBSSxHQURBRyxHQUFrQmhDLEVBQVNnQyxrQkFDdkJDLEVBQUksRUFBT0QsRUFBSkMsSUFBdUJBLEVBQUcsQ0FDdkMsR0FBSUMsR0FBY2xDLEVBQVNtQyxhQUFhRixFQUN4QzlCLEdBQUd5QixZQUFZUSxLQUFLRixFQUFZNUIsWUFDaENILEVBQUcyQixVQUFVTSxLQUFLbEQsRUFBU1ksS0FBS08sUUFBUUwsRUFBU3FDLE9BQU9ILEdBQWMsVUFDdEUvQixFQUFHNEIsYUFBYUssS0FBSyxXQUd2QmpDLEVBQUd5QixZQUFZUSxLQUFLLFNBQ3BCakMsRUFBRzJCLFVBQVVNLEtBQUtsRCxFQUFTWSxLQUFLTyxRQUFRTCxFQUFTSSxPQUFTbEIsRUFBU1ksS0FBS0MsSUFBSXlCLFdBQVd0QixHQUFrQixVQUN6R0MsRUFBRzRCLGFBQWFLLEtBQUtFLElBR3ZCLFFBQVN2QixNQUNIN0IsRUFBU0UsY0FHZixRQUFTK0IsR0FBZW9CLEVBQU9DLEdBQzdCM0IsSUFDQUMsSUFDQTdCLEVBQU93RCxTQUdULFFBQVNuQixHQUFNaUIsRUFBT0MsR0FDcEIzQixJQUNBQyxJQUNBQyxJQUNBOUIsRUFBT3dELFNBcEZULEdBQUl0QyxHQUFLdUMsSUFDVHZDLEdBQUdmLFlBQWNGLEVBQVNFLFdBRTFCLElBQUlrRCxHQUFpQixTQUNyQm5DLEdBQUd5QixhQUFlLFNBQ2xCekIsRUFBRzJCLFdBQWEsR0FDaEIzQixFQUFHNEIsY0FBZ0JPLEVBRW5CLElBQUlwQyxHQUFrQiw2Q0FDbEJGLEVBQVcsSUFFZmIsS0NGRkosRUFBWTRELFNBQVcsU0FBVSxTQUFVLFlEYjNDbEUsUUFBUUMsT0FBTyxpQkFBaUJrRSxXQUFXLGNBQWU3RCxNRUg1RCxXQUNJLFlBS0EsU0FBU0csS0FZUCxRQUFTQyxLQUNQMEQsRUFBUS9DLEtBQUtnRCxZQUFZLEdBQUlELEdBQVEvQyxLQUFLaUQsVUFBVUMsYUFBYSwwQkFHbkUsUUFBUzVELEtBQ1AsTUFBT3lELEdBQVEvQyxLQUFLbUQsZ0JBQWdCN0QsY0FoQnRDLEdBQUl5RCxJQUNGL0MsS0FBTSxHQUFJb0QsTUFDVjlELFlBQWFBLEVBS2YsT0FGQUQsS0FFTzBELEVBWFRwRSxRQUFRQyxPQUFPLGlCQUFpQm1FLFFBQVEsV0FBWTNEIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnZXRoZXItc3Bpbm5lcicsIFtcbiAgICAnbmdSb3V0ZScsXG4gICAgJ2NoYXJ0LmpzJyxcbiAgICAncnpNb2R1bGUnXG4gIF0pLlxuICBjb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHtyZWRpcmVjdFRvOiAnLyd9KTtcbiAgfV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdldGhlci1zcGlubmVyJykuY29udHJvbGxlcignU3Bpbm5lckN0cmwnLCBTcGlubmVyQ3RybCk7XG5cbiAgLypAbmdJbmplY3QqL1xuICBmdW5jdGlvbiBTcGlubmVyQ3RybCgkcm91dGUsICRzY29wZSwgZXRoZXJldW0pIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLmlzQ29ubmVjdGVkID0gZXRoZXJldW0uaXNDb25uZWN0ZWQ7XG5cbiAgICB2YXIgZW1wdHlCYXJDb2xvdXIgPSAnIzNEM0UzRic7XG4gICAgdm0ud2hlZWxMYWJlbHMgPSBbXCJFbXB0eVwiXTtcbiAgICB2bS53aGVlbERhdGEgPSBbNS4wXTtcbiAgICB2bS53aGVlbENvbG91cnMgPSBbZW1wdHlCYXJDb2xvdXJdO1xuXG4gICAgdmFyIGNvbnRyYWN0QWRkcmVzcyA9ICcweGFDRDllMWU2ODYyMjI4NUNjM2QzMzlEMDRiNzZCQTdhY0VFNkZDMUMnO1xuICAgIHZhciBjb250cmFjdCA9IG51bGw7XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBpZighZXRoZXJldW0uaXNDb25uZWN0ZWQoKSkgeyByZXR1cm47IH1cblxuICAgICAgdmFyIGFiaSA9IFt7XCJjb25zdGFudFwiOnRydWUsXCJpbnB1dHNcIjpbe1wibmFtZVwiOlwiXCIsXCJ0eXBlXCI6XCJhZGRyZXNzXCJ9XSxcIm5hbWVcIjpcInN0YWtlc1wiLFwib3V0cHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiY29uc3RhbnRcIjp0cnVlLFwiaW5wdXRzXCI6W3tcIm5hbWVcIjpcIlwiLFwidHlwZVwiOlwidWludDI1NlwifV0sXCJuYW1lXCI6XCJzdGFrZWhvbGRlcnNcIixcIm91dHB1dHNcIjpbe1wibmFtZVwiOlwiXCIsXCJ0eXBlXCI6XCJhZGRyZXNzXCJ9XSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6dHJ1ZSxcImlucHV0c1wiOltdLFwibmFtZVwiOlwiZ29hbFwiLFwib3V0cHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiY29uc3RhbnRcIjpmYWxzZSxcImlucHV0c1wiOltdLFwibmFtZVwiOlwicmVmdW5kU3Rha2VcIixcIm91dHB1dHNcIjpbXSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6ZmFsc2UsXCJpbnB1dHNcIjpbXSxcIm5hbWVcIjpcImRlc3Ryb3lcIixcIm91dHB1dHNcIjpbXSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6dHJ1ZSxcImlucHV0c1wiOltdLFwibmFtZVwiOlwiaW5jcmVtZW50XCIsXCJvdXRwdXRzXCI6W3tcIm5hbWVcIjpcIlwiLFwidHlwZVwiOlwidWludDI1NlwifV0sXCJ0eXBlXCI6XCJmdW5jdGlvblwifSx7XCJjb25zdGFudFwiOnRydWUsXCJpbnB1dHNcIjpbXSxcIm5hbWVcIjpcIm51bVN0YWtlaG9sZGVyc1wiLFwib3V0cHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiY29uc3RhbnRcIjpmYWxzZSxcImlucHV0c1wiOlt7XCJuYW1lXCI6XCJyZWplY3RQYXJ0aWFsQmV0c1wiLFwidHlwZVwiOlwiYm9vbFwifV0sXCJuYW1lXCI6XCJidXlTdGFrZVwiLFwib3V0cHV0c1wiOltdLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiY29uc3RhbnRcIjp0cnVlLFwiaW5wdXRzXCI6W3tcIm5hbWVcIjpcIlwiLFwidHlwZVwiOlwidWludDI1NlwifV0sXCJuYW1lXCI6XCJyZWNlbnRXaW5zXCIsXCJvdXRwdXRzXCI6W3tcIm5hbWVcIjpcIndpbm5lclwiLFwidHlwZVwiOlwiYWRkcmVzc1wifSx7XCJuYW1lXCI6XCJ0aW1lc3RhbXBcIixcInR5cGVcIjpcInVpbnQyNTZcIn0se1wibmFtZVwiOlwic3Rha2VcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiY29uc3RhbnRcIjp0cnVlLFwiaW5wdXRzXCI6W10sXCJuYW1lXCI6XCJob3N0XCIsXCJvdXRwdXRzXCI6W3tcIm5hbWVcIjpcIlwiLFwidHlwZVwiOlwiYWRkcmVzc1wifV0sXCJ0eXBlXCI6XCJmdW5jdGlvblwifSx7XCJpbnB1dHNcIjpbe1wibmFtZVwiOlwiX2dvYWxJbkZpbm5leVwiLFwidHlwZVwiOlwidWludDI1NlwifSx7XCJuYW1lXCI6XCJfaW5jcmVtZW50SW5GaW5uZXlcIixcInR5cGVcIjpcInVpbnQyNTZcIn0se1wibmFtZVwiOlwiX3JlY2VudFdpbnNDb3VudFwiLFwidHlwZVwiOlwidWludDhcIn1dLFwidHlwZVwiOlwiY29uc3RydWN0b3JcIn0se1wiYW5vbnltb3VzXCI6ZmFsc2UsXCJpbnB1dHNcIjpbe1wiaW5kZXhlZFwiOmZhbHNlLFwibmFtZVwiOlwid2lubmVyXCIsXCJ0eXBlXCI6XCJhZGRyZXNzXCJ9LHtcImluZGV4ZWRcIjpmYWxzZSxcIm5hbWVcIjpcInRpbWVzdGFtcFwiLFwidHlwZVwiOlwidWludDI1NlwifSx7XCJpbmRleGVkXCI6ZmFsc2UsXCJuYW1lXCI6XCJzdGFrZVwiLFwidHlwZVwiOlwidWludDI1NlwifV0sXCJuYW1lXCI6XCJXb25cIixcInR5cGVcIjpcImV2ZW50XCJ9LHtcImFub255bW91c1wiOmZhbHNlLFwiaW5wdXRzXCI6W3tcImluZGV4ZWRcIjpmYWxzZSxcIm5hbWVcIjpcInN0YWtlaG9sZGVyXCIsXCJ0eXBlXCI6XCJhZGRyZXNzXCJ9XSxcIm5hbWVcIjpcIkNoYW5nZWRTdGFrZVwiLFwidHlwZVwiOlwiZXZlbnRcIn1dO1xuICAgICAgdmFyIGNvbnRyYWN0Qmx1ZXByaW50ID0gZXRoZXJldW0ud2ViMy5ldGguY29udHJhY3QoYWJpKTtcbiAgICAgIGNvbnRyYWN0ID0gY29udHJhY3RCbHVlcHJpbnQuYXQoY29udHJhY3RBZGRyZXNzKTtcblxuICAgICAgdm0uZ29hbCA9IGV0aGVyZXVtLndlYjMuZnJvbVdlaShjb250cmFjdC5nb2FsKCksICdldGhlcicpLnRvU3RyaW5nKCk7XG4gICAgICB2bS5zbGlkZXJTdGVwID0gZXRoZXJldW0ud2ViMy5mcm9tV2VpKGNvbnRyYWN0LmluY3JlbWVudCgpLCAnZXRoZXInKS50b1N0cmluZygpO1xuXG4gICAgICB2bS5hY2NvdW50cyA9IGV0aGVyZXVtLndlYjMuZXRoLmFjY291bnRzO1xuICAgICAgdm0uc2VsZWN0ZWRBY2NvdW50ID0gZXRoZXJldW0ud2ViMy5ldGguZGVmYXVsdEFjY291bnQ7XG4gICAgICBpZighdm0uc2VsZWN0ZWRBY2NvdW50KSB7XG4gICAgICAgIHZtLnNlbGVjdGVkQWNjb3VudCA9IGV0aGVyZXVtLndlYjMuZXRoLmNvaW5iYXNlO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGVCYWxhbmNlKCk7XG4gICAgICB1cGRhdGVDaGFydCgpO1xuICAgICAgdXBkYXRlUmVjZW50UmVzdWx0cygpO1xuXG4gICAgICB2YXIgb25TdGFrZUNoYW5nZWRFdmVudCA9IGNvbnRyYWN0LkNoYW5nZWRTdGFrZSgpO1xuICAgICAgb25TdGFrZUNoYW5nZWRFdmVudC53YXRjaChvblN0YWtlQ2hhbmdlZCk7XG5cbiAgICAgIHZhciBvbldvbkV2ZW50ID0gY29udHJhY3QuV29uKCk7XG4gICAgICBvbldvbkV2ZW50LndhdGNoKG9uV29uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVCYWxhbmNlKCkge1xuICAgICAgaWYoIWV0aGVyZXVtLmlzQ29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHZhciB3ZWkgPSBldGhlcmV1bS53ZWIzLmV0aC5nZXRCYWxhbmNlKGNvbnRyYWN0QWRkcmVzcyk7XG4gICAgICB2YXIgZXRoZXIgPSBldGhlcmV1bS53ZWIzLmZyb21XZWkod2VpLCAnZXRoZXInKTtcbiAgICAgIHZtLmJhbGFuY2UgPSBwYXJzZUZsb2F0KGV0aGVyLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNoYXJ0KCkge1xuICAgICAgaWYoIWV0aGVyZXVtLmlzQ29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHZtLndoZWVsTGFiZWxzLmxlbmd0aCA9IDA7XG4gICAgICB2bS53aGVlbERhdGEubGVuZ3RoID0gMDtcbiAgICAgIHZtLndoZWVsQ29sb3Vycy5sZW5ndGggPSAwO1xuXG4gICAgICB2YXIgbnVtU3Rha2Vob2xkZXJzID0gY29udHJhY3QubnVtU3Rha2Vob2xkZXJzKCk7XG4gICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbnVtU3Rha2Vob2xkZXJzOyArK2kpIHtcbiAgICAgICAgdmFyIHN0YWtlaG9sZGVyID0gY29udHJhY3Quc3Rha2Vob2xkZXJzKGkpO1xuICAgICAgICB2bS53aGVlbExhYmVscy5wdXNoKHN0YWtlaG9sZGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICB2bS53aGVlbERhdGEucHVzaChldGhlcmV1bS53ZWIzLmZyb21XZWkoY29udHJhY3Quc3Rha2VzKHN0YWtlaG9sZGVyKSwgJ2V0aGVyJykpO1xuICAgICAgICB2bS53aGVlbENvbG91cnMucHVzaCgnI0M5OUQ2NicpO1xuICAgICAgfVxuXG4gICAgICB2bS53aGVlbExhYmVscy5wdXNoKCdFbXB0eScpO1xuICAgICAgdm0ud2hlZWxEYXRhLnB1c2goZXRoZXJldW0ud2ViMy5mcm9tV2VpKGNvbnRyYWN0LmdvYWwoKSAtIGV0aGVyZXVtLndlYjMuZXRoLmdldEJhbGFuY2UoY29udHJhY3RBZGRyZXNzKSwgJ2V0aGVyJykpO1xuICAgICAgdm0ud2hlZWxDb2xvdXJzLnB1c2goZW1wdHlCYXJDb2xvdXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlY2VudFJlc3VsdHMoKSB7XG4gICAgICBpZighZXRoZXJldW0uaXNDb25uZWN0ZWQoKSkgeyByZXR1cm47IH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN0YWtlQ2hhbmdlZChlcnJvciwgcmVzdWx0KSB7XG4gICAgICB1cGRhdGVCYWxhbmNlKCk7XG4gICAgICB1cGRhdGVDaGFydCgpO1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uV29uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgIHVwZGF0ZUJhbGFuY2UoKTtcbiAgICAgIHVwZGF0ZUNoYXJ0KCk7XG4gICAgICB1cGRhdGVSZWNlbnRSZXN1bHRzKCk7XG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVsb2FkUGFnZSgpIHtcbiAgICAgICRyb3V0ZS5yZWxvYWQoKTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLm1vZHVsZSgnZXRoZXItc3Bpbm5lcicsIFtcbiAgICAnbmdSb3V0ZScsXG4gICAgJ2NoYXJ0LmpzJyxcbiAgICAncnpNb2R1bGUnXG4gIF0pLlxuICBjb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgJHJvdXRlUHJvdmlkZXIub3RoZXJ3aXNlKHtyZWRpcmVjdFRvOiAnLyd9KTtcbiAgfV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgU3Bpbm5lckN0cmwuJGluamVjdCA9IFtcIiRyb3V0ZVwiLCBcIiRzY29wZVwiLCBcImV0aGVyZXVtXCJdO1xuICBhbmd1bGFyLm1vZHVsZSgnZXRoZXItc3Bpbm5lcicpLmNvbnRyb2xsZXIoJ1NwaW5uZXJDdHJsJywgU3Bpbm5lckN0cmwpO1xuXG4gIC8qQG5nSW5qZWN0Ki9cbiAgZnVuY3Rpb24gU3Bpbm5lckN0cmwoJHJvdXRlLCAkc2NvcGUsIGV0aGVyZXVtKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5pc0Nvbm5lY3RlZCA9IGV0aGVyZXVtLmlzQ29ubmVjdGVkO1xuXG4gICAgdmFyIGVtcHR5QmFyQ29sb3VyID0gJyMzRDNFM0YnO1xuICAgIHZtLndoZWVsTGFiZWxzID0gW1wiRW1wdHlcIl07XG4gICAgdm0ud2hlZWxEYXRhID0gWzUuMF07XG4gICAgdm0ud2hlZWxDb2xvdXJzID0gW2VtcHR5QmFyQ29sb3VyXTtcblxuICAgIHZhciBjb250cmFjdEFkZHJlc3MgPSAnMHhhQ0Q5ZTFlNjg2MjIyODVDYzNkMzM5RDA0Yjc2QkE3YWNFRTZGQzFDJztcbiAgICB2YXIgY29udHJhY3QgPSBudWxsO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgaWYoIWV0aGVyZXVtLmlzQ29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHZhciBhYmkgPSBbe1wiY29uc3RhbnRcIjp0cnVlLFwiaW5wdXRzXCI6W3tcIm5hbWVcIjpcIlwiLFwidHlwZVwiOlwiYWRkcmVzc1wifV0sXCJuYW1lXCI6XCJzdGFrZXNcIixcIm91dHB1dHNcIjpbe1wibmFtZVwiOlwiXCIsXCJ0eXBlXCI6XCJ1aW50MjU2XCJ9XSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6dHJ1ZSxcImlucHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwibmFtZVwiOlwic3Rha2Vob2xkZXJzXCIsXCJvdXRwdXRzXCI6W3tcIm5hbWVcIjpcIlwiLFwidHlwZVwiOlwiYWRkcmVzc1wifV0sXCJ0eXBlXCI6XCJmdW5jdGlvblwifSx7XCJjb25zdGFudFwiOnRydWUsXCJpbnB1dHNcIjpbXSxcIm5hbWVcIjpcImdvYWxcIixcIm91dHB1dHNcIjpbe1wibmFtZVwiOlwiXCIsXCJ0eXBlXCI6XCJ1aW50MjU2XCJ9XSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6ZmFsc2UsXCJpbnB1dHNcIjpbXSxcIm5hbWVcIjpcInJlZnVuZFN0YWtlXCIsXCJvdXRwdXRzXCI6W10sXCJ0eXBlXCI6XCJmdW5jdGlvblwifSx7XCJjb25zdGFudFwiOmZhbHNlLFwiaW5wdXRzXCI6W10sXCJuYW1lXCI6XCJkZXN0cm95XCIsXCJvdXRwdXRzXCI6W10sXCJ0eXBlXCI6XCJmdW5jdGlvblwifSx7XCJjb25zdGFudFwiOnRydWUsXCJpbnB1dHNcIjpbXSxcIm5hbWVcIjpcImluY3JlbWVudFwiLFwib3V0cHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiY29uc3RhbnRcIjp0cnVlLFwiaW5wdXRzXCI6W10sXCJuYW1lXCI6XCJudW1TdGFrZWhvbGRlcnNcIixcIm91dHB1dHNcIjpbe1wibmFtZVwiOlwiXCIsXCJ0eXBlXCI6XCJ1aW50MjU2XCJ9XSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6ZmFsc2UsXCJpbnB1dHNcIjpbe1wibmFtZVwiOlwicmVqZWN0UGFydGlhbEJldHNcIixcInR5cGVcIjpcImJvb2xcIn1dLFwibmFtZVwiOlwiYnV5U3Rha2VcIixcIm91dHB1dHNcIjpbXSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6dHJ1ZSxcImlucHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwibmFtZVwiOlwicmVjZW50V2luc1wiLFwib3V0cHV0c1wiOlt7XCJuYW1lXCI6XCJ3aW5uZXJcIixcInR5cGVcIjpcImFkZHJlc3NcIn0se1wibmFtZVwiOlwidGltZXN0YW1wXCIsXCJ0eXBlXCI6XCJ1aW50MjU2XCJ9LHtcIm5hbWVcIjpcInN0YWtlXCIsXCJ0eXBlXCI6XCJ1aW50MjU2XCJ9XSxcInR5cGVcIjpcImZ1bmN0aW9uXCJ9LHtcImNvbnN0YW50XCI6dHJ1ZSxcImlucHV0c1wiOltdLFwibmFtZVwiOlwiaG9zdFwiLFwib3V0cHV0c1wiOlt7XCJuYW1lXCI6XCJcIixcInR5cGVcIjpcImFkZHJlc3NcIn1dLFwidHlwZVwiOlwiZnVuY3Rpb25cIn0se1wiaW5wdXRzXCI6W3tcIm5hbWVcIjpcIl9nb2FsSW5GaW5uZXlcIixcInR5cGVcIjpcInVpbnQyNTZcIn0se1wibmFtZVwiOlwiX2luY3JlbWVudEluRmlubmV5XCIsXCJ0eXBlXCI6XCJ1aW50MjU2XCJ9LHtcIm5hbWVcIjpcIl9yZWNlbnRXaW5zQ291bnRcIixcInR5cGVcIjpcInVpbnQ4XCJ9XSxcInR5cGVcIjpcImNvbnN0cnVjdG9yXCJ9LHtcImFub255bW91c1wiOmZhbHNlLFwiaW5wdXRzXCI6W3tcImluZGV4ZWRcIjpmYWxzZSxcIm5hbWVcIjpcIndpbm5lclwiLFwidHlwZVwiOlwiYWRkcmVzc1wifSx7XCJpbmRleGVkXCI6ZmFsc2UsXCJuYW1lXCI6XCJ0aW1lc3RhbXBcIixcInR5cGVcIjpcInVpbnQyNTZcIn0se1wiaW5kZXhlZFwiOmZhbHNlLFwibmFtZVwiOlwic3Rha2VcIixcInR5cGVcIjpcInVpbnQyNTZcIn1dLFwibmFtZVwiOlwiV29uXCIsXCJ0eXBlXCI6XCJldmVudFwifSx7XCJhbm9ueW1vdXNcIjpmYWxzZSxcImlucHV0c1wiOlt7XCJpbmRleGVkXCI6ZmFsc2UsXCJuYW1lXCI6XCJzdGFrZWhvbGRlclwiLFwidHlwZVwiOlwiYWRkcmVzc1wifV0sXCJuYW1lXCI6XCJDaGFuZ2VkU3Rha2VcIixcInR5cGVcIjpcImV2ZW50XCJ9XTtcbiAgICAgIHZhciBjb250cmFjdEJsdWVwcmludCA9IGV0aGVyZXVtLndlYjMuZXRoLmNvbnRyYWN0KGFiaSk7XG4gICAgICBjb250cmFjdCA9IGNvbnRyYWN0Qmx1ZXByaW50LmF0KGNvbnRyYWN0QWRkcmVzcyk7XG5cbiAgICAgIHZtLmdvYWwgPSBldGhlcmV1bS53ZWIzLmZyb21XZWkoY29udHJhY3QuZ29hbCgpLCAnZXRoZXInKS50b1N0cmluZygpO1xuICAgICAgdm0uc2xpZGVyU3RlcCA9IGV0aGVyZXVtLndlYjMuZnJvbVdlaShjb250cmFjdC5pbmNyZW1lbnQoKSwgJ2V0aGVyJykudG9TdHJpbmcoKTtcblxuICAgICAgdm0uYWNjb3VudHMgPSBldGhlcmV1bS53ZWIzLmV0aC5hY2NvdW50cztcbiAgICAgIHZtLnNlbGVjdGVkQWNjb3VudCA9IGV0aGVyZXVtLndlYjMuZXRoLmRlZmF1bHRBY2NvdW50O1xuICAgICAgaWYoIXZtLnNlbGVjdGVkQWNjb3VudCkge1xuICAgICAgICB2bS5zZWxlY3RlZEFjY291bnQgPSBldGhlcmV1bS53ZWIzLmV0aC5jb2luYmFzZTtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlQmFsYW5jZSgpO1xuICAgICAgdXBkYXRlQ2hhcnQoKTtcbiAgICAgIHVwZGF0ZVJlY2VudFJlc3VsdHMoKTtcblxuICAgICAgdmFyIG9uU3Rha2VDaGFuZ2VkRXZlbnQgPSBjb250cmFjdC5DaGFuZ2VkU3Rha2UoKTtcbiAgICAgIG9uU3Rha2VDaGFuZ2VkRXZlbnQud2F0Y2gob25TdGFrZUNoYW5nZWQpO1xuXG4gICAgICB2YXIgb25Xb25FdmVudCA9IGNvbnRyYWN0LldvbigpO1xuICAgICAgb25Xb25FdmVudC53YXRjaChvbldvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlQmFsYW5jZSgpIHtcbiAgICAgIGlmKCFldGhlcmV1bS5pc0Nvbm5lY3RlZCgpKSB7IHJldHVybjsgfVxuXG4gICAgICB2YXIgd2VpID0gZXRoZXJldW0ud2ViMy5ldGguZ2V0QmFsYW5jZShjb250cmFjdEFkZHJlc3MpO1xuICAgICAgdmFyIGV0aGVyID0gZXRoZXJldW0ud2ViMy5mcm9tV2VpKHdlaSwgJ2V0aGVyJyk7XG4gICAgICB2bS5iYWxhbmNlID0gcGFyc2VGbG9hdChldGhlci50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVDaGFydCgpIHtcbiAgICAgIGlmKCFldGhlcmV1bS5pc0Nvbm5lY3RlZCgpKSB7IHJldHVybjsgfVxuXG4gICAgICB2bS53aGVlbExhYmVscy5sZW5ndGggPSAwO1xuICAgICAgdm0ud2hlZWxEYXRhLmxlbmd0aCA9IDA7XG4gICAgICB2bS53aGVlbENvbG91cnMubGVuZ3RoID0gMDtcblxuICAgICAgdmFyIG51bVN0YWtlaG9sZGVycyA9IGNvbnRyYWN0Lm51bVN0YWtlaG9sZGVycygpO1xuICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG51bVN0YWtlaG9sZGVyczsgKytpKSB7XG4gICAgICAgIHZhciBzdGFrZWhvbGRlciA9IGNvbnRyYWN0LnN0YWtlaG9sZGVycyhpKTtcbiAgICAgICAgdm0ud2hlZWxMYWJlbHMucHVzaChzdGFrZWhvbGRlci50b1N0cmluZygpKTtcbiAgICAgICAgdm0ud2hlZWxEYXRhLnB1c2goZXRoZXJldW0ud2ViMy5mcm9tV2VpKGNvbnRyYWN0LnN0YWtlcyhzdGFrZWhvbGRlciksICdldGhlcicpKTtcbiAgICAgICAgdm0ud2hlZWxDb2xvdXJzLnB1c2goJyNDOTlENjYnKTtcbiAgICAgIH1cblxuICAgICAgdm0ud2hlZWxMYWJlbHMucHVzaCgnRW1wdHknKTtcbiAgICAgIHZtLndoZWVsRGF0YS5wdXNoKGV0aGVyZXVtLndlYjMuZnJvbVdlaShjb250cmFjdC5nb2FsKCkgLSBldGhlcmV1bS53ZWIzLmV0aC5nZXRCYWxhbmNlKGNvbnRyYWN0QWRkcmVzcyksICdldGhlcicpKTtcbiAgICAgIHZtLndoZWVsQ29sb3Vycy5wdXNoKGVtcHR5QmFyQ29sb3VyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVSZWNlbnRSZXN1bHRzKCkge1xuICAgICAgaWYoIWV0aGVyZXVtLmlzQ29ubmVjdGVkKCkpIHsgcmV0dXJuOyB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdGFrZUNoYW5nZWQoZXJyb3IsIHJlc3VsdCkge1xuICAgICAgdXBkYXRlQmFsYW5jZSgpO1xuICAgICAgdXBkYXRlQ2hhcnQoKTtcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbldvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICB1cGRhdGVCYWxhbmNlKCk7XG4gICAgICB1cGRhdGVDaGFydCgpO1xuICAgICAgdXBkYXRlUmVjZW50UmVzdWx0cygpO1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbG9hZFBhZ2UoKSB7XG4gICAgICAkcm91dGUucmVsb2FkKCk7XG4gICAgfVxuICB9XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2V0aGVyLXNwaW5uZXInKS5zZXJ2aWNlKCdldGhlcmV1bScsIGV0aGVyZXVtKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGV0aGVyZXVtKCkge1xuICAgICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgIHdlYjM6IG5ldyBXZWIzKCksXG4gICAgICAgIGlzQ29ubmVjdGVkOiBpc0Nvbm5lY3RlZFxuICAgICAgfTtcblxuICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgIHNlcnZpY2Uud2ViMy5zZXRQcm92aWRlcihuZXcgc2VydmljZS53ZWIzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIoXCJodHRwOi8vbG9jYWxob3N0Ojg1NDVcIikpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2Uud2ViMy5jdXJyZW50UHJvdmlkZXIuaXNDb25uZWN0ZWQoKTtcbiAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdldGhlci1zcGlubmVyJykuc2VydmljZSgnZXRoZXJldW0nLCBldGhlcmV1bSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBldGhlcmV1bSgpIHtcbiAgICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgICB3ZWIzOiBuZXcgV2ViMygpLFxuICAgICAgICBpc0Nvbm5lY3RlZDogaXNDb25uZWN0ZWRcbiAgICAgIH07XG5cbiAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICBzZXJ2aWNlLndlYjMuc2V0UHJvdmlkZXIobmV3IHNlcnZpY2Uud2ViMy5wcm92aWRlcnMuSHR0cFByb3ZpZGVyKFwiaHR0cDovL2xvY2FsaG9zdDo4NTQ1XCIpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiBzZXJ2aWNlLndlYjMuY3VycmVudFByb3ZpZGVyLmlzQ29ubmVjdGVkKCk7XG4gICAgICB9XG4gICAgfVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
